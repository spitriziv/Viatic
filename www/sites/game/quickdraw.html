<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
<title>Viatic - QuickDrawIt!</title>
  <meta name="description" img src="image.png" content="The Viatic Website"> 
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="shortcut icon" href="chromelogo.png">
  <link rel="icon" href="https://github.com/spitriziv/Viatic/blob/main/www/image/Viaticlogononame.png?raw=true" type="imageX" sizes="16x16">
  <head>
  <body onload="typeWriter()"></body>
    <!-- ccs -->
    <link rel='stylesheet' href='https://spitriziv.github.io/Viatic/www/css/website.css'>
        <link rel='stylesheet' href='https://spitriziv.github.io/Viatic/www/css/themes.css'>
      <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
      <!-- Javascript-->
          <script src="https://kit.fontawesome.com/38a479c8d7.js" crossorigin="anonymous"></script>
<script src="https://spitriziv.github.io/Viatic/www/js/filter.js"></script>
    <!--other -->
    <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
   </head>
   
<body class="w3-animate-left">
  <div class="sidebar close">
    <div class="logo-details">
      <i><img src="https://github.com/spitriziv/Viatic/blob/main/www/image/Viaticlogononame.png?raw=true" alt="" style="width:45px;height:45px;"></i>
      <span class="logo_name">Viatic</span>
    </div>
    <ul class="nav-links">
            <li>
        <a href="https://spitriziv.github.io/Viatic/www/sites/index.html">
          <i class='bx bx-grid-alt'></i>
          <span class="link_name">Dashboard</span>
        </a>
        <ul class="sub-menu blank">
          <li><a class="link_name" href="https://spitriziv.github.io/Viatic/www/sites/index.html">Dashboard</a></li>
        </ul>
      </li>
      <li>
        <div class="iocn-link">
           <a href="https://spitriziv.github.io/Viatic/www/sites/main.html">
            <i class='bx bx-collection' ></i>
          <span class="link_name">Viatic Main</span>
        </a>
        <ul class="sub-menu blank">
          <li><a class="link_name" href="https://spitriziv.github.io/Viatic/www/sites/index.html">Viatic Main</a></li>
        </ul>
      </li>
      
      <li>
        <div class="iocn-link">
          <a href="#">
            <i class='fas fa-tools' ></i>
            <span class="link_name">Utilities</span>
        </a>
        <ul class="sub-menu blank">
          <li><a class="link_name" href="https://spitriziv.github.io/Viatic/www/sites/utilities.html">Utilities</a></li>
        </ul>
      </li>
      <li>
        <div class="iocn-link">
          <a href="infomation.html">
            <i class='far fa-chart-bar' ></i>
            <span class="link_name">Infomation</span>
          </a>
        <ul class="sub-menu blank">
          <li><a class="link_name">Infomation</a></li>
        </ul>
      </li>
      <li>
        <div class="iocn-link">
          <a href="webdesigns.html">
            <i class='fas fa-pen-alt' ></i>
            <span class="link_name">Web Designs</span>
          </a>
        <ul class="sub-menu blank">
          <li><a class="link_name">Web Designs</a></li>
        </ul>
      </li>
            <li>
        <div class="iocn-link">
          <a href="extradesigns.html">
            <i class='fas fa-ring' ></i>
            <span class="link_name">Extra Designs</span>
          </a>
        <ul class="sub-menu blank">
          <li><a class="link_name">Extra Designs</a></li>
        </ul>
      </li>
      <li>
        <a href="https://spitriziv.github.io/Viatic/www/sites/setting.html">
          <i class='bx bx-cog' ></i>
          <span class="link_name">Settings</span>
        </a>
        <ul class="sub-menu blank">

          <li><a class="link_name" href="https://spitriziv.github.io/Viatic/www/sites/setting.html">Settings</a></li>
        </ul>
      </li>
      <li>
    <div class="profile-details">
      <div class="profile-content">
        <!--<img src="image/profile.jpg" alt="profileImg">-->
      </div>
      <div class="name-job">
        <div class="profile_name">SpiritXIV</div>
        <div class="job">Creator and Desginer</div>
      </div>
      <i><img class="w3-animate-left" src="https://github.com/spitriziv/Viatic/blob/main/www/image/profilenoback.png?raw=true" alt="" style="width:45px;height:45px;"></i>
    </div>
  </li>
</ul>
  </div>
  <section  style="overflow:hidden:" class="home-section">    
</head>
<body class="" style="overflow:hidden:">
  <div id="result-iframe-wrap" role="main">

    <iframe id="result" style="position:fixed; top:0; left:0; bottom:0; right:0; width:100%; height:100%; border:none; margin:0; padding:0; overflow:hidden:" srcdoc="
<!DOCTYPE html>
<html lang=&quot;en&quot; >

<head>

  <meta charset=&quot;UTF-8&quot;>
  
<link rel=&quot;apple-touch-icon&quot; type=&quot;image/png&quot; href=&quot;https://cpwebassets.codepen.io/assets/favicon/apple-touch-icon-5ae1a0698dcc2402e9712f7d01ed509a57814f994c660df9f7a952f3060705ee.png&quot; />
<meta name=&quot;apple-mobile-web-app-title&quot; content=&quot;CodePen&quot;>

<link rel=&quot;shortcut icon&quot; type=&quot;image/x-icon&quot; href=&quot;https://cpwebassets.codepen.io/assets/favicon/favicon-aec34940fbc1a6e787974dcd360f2c6b63348d4b1f4e06c77743096d55480f33.ico&quot; />

<link rel=&quot;mask-icon&quot; type=&quot;image/x-icon&quot; href=&quot;https://cpwebassets.codepen.io/assets/favicon/logo-pin-8f3771b1072e3c38bd662872f6b673a722f4b3ca2421637d5596661b4e2132cc.svg&quot; color=&quot;#111&quot; />


  
  <title>CodePen - QuickDrawIt! An online multiplayer game.</title>
  
  
  
  
<style>
*{
	margin: 0;
}
.font{
	font-family: &quot;Amatic SC&quot;;
}
html, body{
	position: relative;
	overflow: hidden;
	height: 100%;
	text-align: center;
}
#title{
	font-size: 20vmin;
	text-align: center;
	animation: wobble 3s infinite;
	margin-bottom: 20vmin;
}
@keyframes wobble{
	0%{transform: rotate(-5deg);}
	50%{transform: rotate(5deg);}
	100%{transform: rotate(-5deg);}
}
#background{
	position: absolute;
	top: calc(50vh - 50vmax);
	left: calc(50vw - 50vmax);
	height: 100vmax;
	width: 100vmax;
}
.button{
	font-size: 10vmin;
	padding: 2vmin;
	border: 2px solid black;
	width: 40vmax;
	margin: 5vmin;
	margin-left: -3vmin;
	cursor: pointer;
	transition: transform .2s;
	border-radius: 3vmin;
}
.button:hover{
	transform: translateX(-10vmin) rotate(-2deg);
}
.notturn{
	transform: none !important;
}
#color{
	width: 30vmin;
	height: 30vmin;
	position: absolute;
	right: 0;
	bottom: 0;
	cursor: pointer;
	font-size: 7vmin;
	border-left : 2px solid black;
	border-top : 2px solid black;
	transition: color .5s, background .5s;
}
#code{
	height: 20vmin;
	font-size: 15vmin;
	text-shadow: 0 0 2vmin black;
}
#players{
	height: calc(100vh - 20vmin);
	width: 100vw;
	border-top: 2px solid black;
	box-sizing: border-box;
	font-size: 10vmin;
	color: #888;
	line-height: 80vh;
}
#input{
	height: 100%;
	width: calc(40vmax - 10vmin);
	font-size: 10vmin;
	text-align: center;
	outline: none;
	border: none;
	text-transform: uppercase;
}
.playericon{
	height: 20vmin;
	width: 20vmin;
	border-radius: 100%;
	border: 2px solid black;
	cursor: pointer;
	position: absolute;
	transform: translate(-10vmin, -10vmin);
	transition: transform .5s;
}
.playericon:hover{
	transform: translate(-10vmin, -10vmin) scale(0.9);
}
#waiting{
	height: 100vh;
	width: 100%;
	text-align: center;
	line-height: 100vh;
}
.wait{
/* 	background-color: white; */
	font-size: 10vmin;
	text-shadow: 0 0 3px white;
}
#start{
	position: absolute;
	top: -5vmin;
	right: -5vmin;
	font-size: 10vmin;
	border-radius: 3vmin;
	border: 2px solid black;
	padding: 2vmin;
	cursor: pointer;
	padding-right: 10vmin;
	padding-top: 5vmin;
	transition: right .2s;
}
#start:hover{
	right: -10vmin;
}
#loader{
	font-size: 10vmin;
	background-color: black;
	color: white;
	height: 100vh;
	width: 100%;
	text-align: center;
	line-height: 100vh;
}
#prompt{
	height: 30vmin;
	width: 100%;
	color: white;
	font-size: 7vmin;
	background-color: black;
}
.topic{
	font-size: 15vmin;
}
#svg{
	height: calc(100vh - 30vmin);
	width: 100%;
}
#counter{
	position: absolute;
	top: -5vmin;
	right: -5vmin;
	font-size: 10vmin;
	padding: 2vmin;
	border-radius: 3vmin;
	border: 2px solid white;
	padding-right: 5vmin;
	padding-top: 5vmin;
	color: white;
}
.error{
	color: red;
}
#rating{
	
}
.star{
	display: inline-block;
	height: 5vmin;
	width: 5vmin;
	margin: 2vmin;
	border-radius: 100%;
	background-color: #888;
	vertical-align: middle;
	cursor: pointer;
	transition: transform .2s;
}
.star:hover{
	transform: scale(1.3);
}
#wcode{
	color: white;
	text-shadow: 0 0 3px white;
	font-size: 20vmin;
	position: absolute;
	top: 0;
	left: 0;
	width: 100vw;
	background-color: black;
	border-bottom: 2px solid white;
}
#skip{
	position: absolute;
	font-size: 10vmin;
	padding: 2vmin;
	border-radius: 3vmin;
	border: 2px solid white;
	top: -5vmin;
	left: -5vmin;
	padding-left: 5vmin;
	padding-top: 5vmin;
	color: white;
	cursor: pointer;
}
</style>

  <script>
  window.console = window.console || function(t) {};
</script>

  
  
  <script>
  if (document.location.search.match(/type=embed/gi)) {
    window.parent.postMessage(&quot;resize&quot;, &quot;*&quot;);
  }
</script>


</head>

<body translate=&quot;no&quot; >
  <link href=&quot;https://fonts.googleapis.com/css?family=Amatic+SC&quot; rel=&quot;stylesheet&quot;>
<div id=&quot;container&quot;>
	<div id=&quot;title&quot; class=&quot;font&quot;>QuickDrawIt!</div>
	<div class=&quot;button font&quot; onclick=&quot;newGame(); this.onclick = null;&quot;>Host a Game</div>
	<div class=&quot;button font&quot; onclick=&quot;joinGame(this)&quot;>Join a Game</div>
	<div id=&quot;color&quot; class=&quot;font&quot; onclick=&quot;newColor()&quot;>Click to change your color</div>
</div>
    <script src=&quot;https://cpwebassets.codepen.io/assets/common/stopExecutionOnTimeout-2c7831bb44f98c1391d6a4ffda0e1fd302503391ca806e7fcc7b9b87197aec26.js&quot;></script>

  <script src='https://www.gstatic.com/firebasejs/4.6.2/firebase.js'></script>
      <script id=&quot;rendered-js&quot; >
var topics = [&quot;cat&quot;, &quot;dog&quot;, &quot;snail&quot;, &quot;house&quot;, &quot;horse&quot;, &quot;cloud&quot;, &quot;tree&quot;, &quot;car&quot;, &quot;pizza&quot;, &quot;phone&quot;, &quot;helicopter&quot;, &quot;pineapple&quot;, &quot;apple&quot;, &quot;tv&quot;, &quot;floppy disk&quot;, &quot;alien&quot;, &quot;shrek&quot;, &quot;book&quot;, &quot;toaster&quot;, &quot;shoe&quot;, &quot;chair&quot;, &quot;dinosaur&quot;, &quot;lizard&quot;, &quot;computer&quot;, &quot;mouse&quot;, &quot;mat&quot;, &quot;fire&quot;, &quot;teeth&quot;, &quot;hat&quot;, &quot;rocket&quot;, &quot;train&quot;, &quot;bottle&quot;, &quot;guitar&quot;, &quot;sock&quot;, &quot;pumpkin&quot;, &quot;pear&quot;, &quot;banana&quot;, &quot;boat&quot;, &quot;pants&quot;, &quot;watch&quot;, &quot;lamp&quot;, &quot;hat&quot;]; //I will add more words soon.
var timeouts = [];
var mobile = navigator.userAgent.match(&quot;Mobile&quot;) != null || navigator.userAgent.match(&quot;Linux;&quot;) != null;

var config = {
  apiKey: &quot;AIzaSyBPTleVKgBoen5M28WEsCRKZLeRlaKNJTk&quot;,
  authDomain: &quot;drawing-game-62d1f.firebaseapp.com&quot;,
  databaseURL: &quot;https://drawing-game-62d1f.firebaseio.com&quot;,
  projectId: &quot;drawing-game-62d1f&quot;,
  storageBucket: &quot;&quot;,
  messagingSenderId: &quot;558039859038&quot; };

firebase.initializeApp(config);
var database = firebase.database();

var c = document.getElementById(&quot;color&quot;);
var color;
function getColor(col) {
  return &quot;hsl(&quot; + col.h + &quot;, &quot; + col.s + &quot;%, &quot; + col.l + &quot;%)&quot;;
}
function getInverseColor(col) {
  return &quot;hsl(&quot; + (180 + col.h) + &quot;, &quot; + (col.s < 50 ? 1 - col.s : col.s) + &quot;%, &quot; + (100 - col.l) + &quot;%)&quot;;
}
function newColor() {
  color = {
    h: Math.random() * 360,
    s: Math.random() * 25 + 75,
    l: Math.random() * 50 + 25 };

  c.style.backgroundColor = getColor(color);
  c.style.color = getInverseColor(color);
}
newColor();
var code,ref,topic = &quot;<div class='error'>Error</div>&quot;,players = {},playercode,scoresLeft,ratedPlayers = [];
function score(n) {
  var pcode = playercode.ge.path.n[1];
  database.ref(&quot;/A&quot; + code + &quot;/&quot; + pcode).once(&quot;value&quot;, function (v) {
    v = v.val();
    database.ref(&quot;/A&quot; + code + &quot;/&quot; + pcode + &quot;/score&quot;).set((v.count * v.score + n) / (v.count + 1));
    database.ref(&quot;/A&quot; + code + &quot;/&quot; + pcode + &quot;/count&quot;).set(1 + v.count);
  });
  document.getElementById(&quot;prompt&quot;).innerHTML = &quot;&quot;;
  if (scoresLeft >= 1)
  rateDrawing();else
  {
    ref.once(&quot;value&quot;, function (v) {
      v = v.val();
      ref.set({
        color: color,
        d: d,
        score: v.score,
        count: v.count,
        done: true });

    });
    document.getElementById(&quot;p&quot;).setAttribute(&quot;d&quot;, &quot;&quot;);
    p.setAttribute(&quot;transform&quot;, &quot;&quot;);
    document.getElementById(&quot;svg&quot;).style.transform = &quot;unset&quot;;
    var done = true;
    for (var v in players)
    if (players[v].val().done != true)
    done = false;
    if (done)
    timeouts.push(setTimeout(function () {
      database.ref(&quot;/A&quot; + code + &quot;/status&quot;).set(2);
    }, 500));else

    timeouts.push(setTimeout(function () {
      var done = true;
      for (var v in players)
      if (players[v].val().done != true)
      done = false;
      if (done)
      timeouts.push(setTimeout(function () {
        database.ref(&quot;/A&quot; + code + &quot;/status&quot;).set(2);
      }, 1000));
    }, 500));
  }
  scoresLeft--;
}
function rateDrawing() {
  document.getElementById(&quot;prompt&quot;).innerHTML = &quot;Rate this drawing:<div id='rating'>Really Bad. <div class='star' onclick='score(1)'></div><div class='star' onclick='score(2)'></div><div class='star' onclick='score(3)'></div><div class='star' onclick='score(4)'></div><div class='star' onclick='score(5)'></div> Pretty Good!</div>&quot;;
  document.getElementById(&quot;p&quot;).setAttribute(&quot;d&quot;, &quot;&quot;);

  var num = Math.floor(Object.keys(players).length * Math.random());
  var c = 0;
  for (var i in players)
  if (c++ == num) {
    playercode = players[i];
  }
  document.getElementById(&quot;p&quot;).setAttribute(&quot;transform&quot;, &quot;&quot;);
  document.getElementById(&quot;svg&quot;).style.transform = &quot;unset&quot;;
  if (playercode == undefined || playercode.ge.path.n[1] == ref.path.n[1] || ratedPlayers.includes(playercode.ge.path.n[1]))
  requestAnimationFrame(rateDrawing);else
  {
    //console.log(playercode);
    ratedPlayers.push(playercode.ge.path.n[1]);
    document.getElementById(&quot;p&quot;).setAttribute(&quot;d&quot;, playercode.val().d);
    document.getElementById(&quot;p&quot;).setAttribute(&quot;stroke&quot;, getColor(playercode.val().color));
    requestAnimationFrame(positionDrawing);
  }
}
function positionDrawing() {
  var p = document.getElementById(&quot;p&quot;);
  var svg = document.getElementById(&quot;svg&quot;);
  p.setAttribute(&quot;transform&quot;, &quot;&quot;);
  svg.style.transform = &quot;&quot;;
  var rect = p.getBoundingClientRect();
  var rect2 = svg.getBoundingClientRect();
  var rect3 = document.getElementById(&quot;prompt&quot;).getBoundingClientRect();
  p.setAttribute(&quot;transform&quot;, &quot;scale(&quot; + Math.min((rect2.bottom - rect2.top) / (rect.bottom - rect.top), (rect2.right - rect2.left) / (rect.right - rect.left)) + &quot;) translate(&quot; + -1 * rect.left + &quot;, &quot; + (-1 * rect.top + (rect3.bottom - rect3.top)) + &quot;)&quot;);
  svg.style.transform = &quot;scale(0.9)&quot;;
  p.style.transformOrigin = &quot;0 0&quot;;
}
function newGame() {
  var letters = &quot;ABCDEFGHIJLKMNOPQRSTUVWXYZ&quot;;
  code = &quot;&quot;;
  for (var i = 0; i < 6; i++)
  code += letters[Math.floor(Math.random() * letters.length)];
  console.log(code);
  database.ref(&quot;/A&quot; + code).once(&quot;value&quot;, function (e) {
    if (e.val() == null) {
      ref = database.ref(&quot;/A&quot; + code).push();
      document.getElementById(&quot;container&quot;).innerHTML = &quot;<div id='code' class='font'>&quot; + code + &quot;</div><div id='players' class='font'>Enter the code to join this game!</div><div id='start' class='font' onclick='startGame()'>Start!</div>&quot;;
      database.ref(&quot;/A&quot; + code).set({
        status: 0 });

      database.ref(&quot;/A&quot; + code).on(&quot;child_added&quot;, function (e) {
        console.log(e);
        if (e.ge.path.n[1] != &quot;status&quot; &amp;&amp; e.ge.path.n[1] != &quot;topic&quot;) {
          var d = e.val();
          var el = document.createElement(&quot;DIV&quot;);
          el.className = &quot;playericon &quot; + e.ge.path.n[1];
          el.style.backgroundColor = getColor(d.color);
          el.style.top = Math.random() * 60 + 30 + &quot;vh&quot;;
          el.style.left = Math.random() * 80 + 10 + &quot;vw&quot;;
          document.getElementById(&quot;players&quot;).appendChild(el);
          players[e.ge.path.n[1]] = e;
        }
      });
      ref.set({
        color: color,
        d: &quot;&quot;,
        score: 0,
        count: 0,
        done: false });

      database.ref(&quot;/A&quot; + code + &quot;/status&quot;).on(&quot;value&quot;, function (e) {
        e = e.val();
        if (e == 1) {
          mouse = false;
          ratedPlayers = [];
          d = &quot;M&quot; + document.body.clientWidth / 2 + &quot;,&quot; + document.body.clientHeight / 2 + &quot; &quot;;
          document.getElementById(&quot;container&quot;).innerHTML = &quot;<div id='loader' class='font'>Get ready to draw in... <span id='count'>5</span></div>&quot;;
          timeouts.push(window.setTimeout(function () {
            document.getElementById(&quot;count&quot;).innerHTML = &quot;4&quot;;
          }, 1000));
          timeouts.push(window.setTimeout(function () {
            document.getElementById(&quot;count&quot;).innerHTML = &quot;3&quot;;
          }, 2000));
          timeouts.push(window.setTimeout(function () {
            document.getElementById(&quot;count&quot;).innerHTML = &quot;2&quot;;
          }, 3000));
          timeouts.push(window.setTimeout(function () {
            document.getElementById(&quot;count&quot;).innerHTML = &quot;1&quot;;
          }, 4000));
          timeouts.push(window.setTimeout(function () {
            document.getElementById(&quot;container&quot;).innerHTML = &quot;<div id='prompt' class='font'>Draw a...<div class='topic'>&quot; + topic + &quot;</div></div><svg id='svg' onmousedown='var event = typeof e == \&quot;undefined\&quot; ? window.event : e; startLine(event, this)' onmousemove='var event = typeof e == \&quot;undefined\&quot; ? window.event : e; moveLine(event, this)' onmouseup='var event = typeof e == \&quot;undefined\&quot; ? window.event : e; endLine(event, this)' ontouchstart='var event = typeof e == \&quot;undefined\&quot; ? window.event : e; startLine(event.touches[0], this); event.preventDefault()' ontouchmove='var event = typeof e == \&quot;undefined\&quot; ? window.event : e; moveLine(event.touches[0], this); event.preventDefault()' ontouchend='var event = typeof e == \&quot;undefined\&quot; ? window.event : e; endLine(event.touches[0], this); event.preventDefault()'><path id='p' stroke='&quot; + getColor(color) + &quot;' stroke-width='5' fill='none'/></svg><div id='counter' class='font'>10</div><div id='skip' class='font' onclick='skip()'>▶▶</div>&quot;;
            var n = 10;
            function countDown() {
              n--;
              document.getElementById(&quot;counter&quot;).innerHTML = n;
              if (n != 0)
              timeouts.push(setTimeout(countDown, 1000));else
              {
                var svg = document.getElementById(&quot;svg&quot;);
                svg.onmousedown = null;
                svg.onmousemove = null;
                svg.onmouseup = null;
                svg.ontouchstart = null;
                svg.ontouchmove = null;
                svg.ontouchend = null;
                ref.set({
                  color: color,
                  d: d,
                  score: 0,
                  count: 0,
                  done: false });

                document.getElementById(&quot;prompt&quot;).innerHTML = &quot;<div class='topic'>Time's up!</div>&quot;;
                timeouts.push(setTimeout(function () {
                  scoresLeft = Object.keys(players).length / 3;
                  rateDrawing();
                }, 3000));
              }
            }
            timeouts.push(setTimeout(countDown, 1000));
          }, 5000));
          topic = topics[Math.floor(Math.random() * topics.length)];
          database.ref(&quot;/A&quot; + code + &quot;/topic&quot;).set(topic);
          database.ref(&quot;/A&quot; + code).on(&quot;child_changed&quot;, function (e) {
            if (e.ge.path.n[1] != &quot;status&quot; &amp;&amp; e.ge.path.n[1] != &quot;topic&quot;) {
              players[e.ge.path.n[1]] = e;
            }
          });
        }
        if (e == 2) {
          var max = 1;
          for (var v in players)
          if (players[v].val().score > (max === 1 ? -1 : max.val().score))
          max = players[v];
          document.getElementById(&quot;p&quot;).setAttribute(&quot;d&quot;, max.val().d);
          document.getElementById(&quot;p&quot;).setAttribute(&quot;stroke&quot;, getColor(max.val().color));
          p.setAttribute(&quot;transform&quot;, &quot;&quot;);
          document.getElementById(&quot;svg&quot;).style.transform = &quot;unset&quot;;
          document.getElementById(&quot;prompt&quot;).innerHTML = &quot;<div class='topic'>Best in show:</div>&quot;;
          // if(!mobile)
          requestAnimationFrame(positionDrawing);
          timeouts.push(setTimeout(function () {
            database.ref(&quot;/A&quot; + code + &quot;/status&quot;).set(1);
          }, 5000));
        }
        if (e == 4) {
          while (timeouts.length > 0) clearTimeout(timeouts.splice(0, 1)[0]);
          database.ref(&quot;/A&quot; + code + &quot;/status&quot;).set(1);
        }
      });
    } else
    newGame();
  });
}

function joinGame(e) {
  e.innerHTML = &quot;<input id='input' class='font' placeholder='Game code' onkeyup='checkCode(this)' autofocus></input>&quot;;
  e.className += &quot; notturn&quot;;
  e.onclick = null;
}
function checkCode(el) {
  if (el.value.length == 6) {
    code = el.value.toUpperCase();
    console.log(code);
    el.onkeyup = null;
    database.ref(&quot;/A&quot; + code + &quot;/status&quot;).once(&quot;value&quot;, function (e) {
      if (e.val() === 0) {
        document.getElementById(&quot;container&quot;).innerHTML = &quot;<div id='waiting' style='background-color: &quot; + getColor(color) + &quot;'><span class='wait font'>Wating for the game to start...</span></div><div id='wcode' class='wait font'>&quot; + code + &quot;</div>&quot;;
        ref = database.ref(&quot;/A&quot; + code).push();
        ref.set({
          color: color,
          d: &quot;&quot;,
          score: 0,
          count: 0,
          done: false });

        database.ref(&quot;/A&quot; + code + &quot;/status&quot;).on(&quot;value&quot;, function (e) {
          e = e.val();
          if (e == 1) {
            mouse = false;
            ratedPlayers = [];
            d = &quot;M&quot; + document.body.clientWidth / 2 + &quot;,&quot; + document.body.clientHeight / 2 + &quot; &quot;;
            document.getElementById(&quot;container&quot;).innerHTML = &quot;<div id='loader' class='font'>Get ready to draw in... <span id='count'>5</span></div>&quot;;
            timeouts.push(window.setTimeout(function () {
              document.getElementById(&quot;count&quot;).innerHTML = &quot;4&quot;;
            }, 1000));
            timeouts.push(window.setTimeout(function () {
              document.getElementById(&quot;count&quot;).innerHTML = &quot;3&quot;;
            }, 2000));
            timeouts.push(window.setTimeout(function () {
              document.getElementById(&quot;count&quot;).innerHTML = &quot;2&quot;;
            }, 3000));
            timeouts.push(window.setTimeout(function () {
              document.getElementById(&quot;count&quot;).innerHTML = &quot;1&quot;;
            }, 4000));
            timeouts.push(window.setTimeout(function () {
              document.getElementById(&quot;container&quot;).innerHTML = &quot;<div id='prompt' class='font'>Draw a...<div class='topic'>&quot; + topic + &quot;</div></div><svg id='svg' onmousedown='var event = typeof e == \&quot;undefined\&quot; ? window.event : e; startLine(event, this)' onmousemove='var event = typeof e == \&quot;undefined\&quot; ? window.event : e; moveLine(event, this)' onmouseup='endLine(event, this)' ontouchstart='var event = typeof e == \&quot;undefined\&quot; ? window.event : e; startLine(event.touches[0], this); event.preventDefault()' ontouchmove='var event = typeof e == \&quot;undefined\&quot; ? window.event : e; moveLine(event.touches[0], this); event.preventDefault()' ontouchend='var event = typeof e == \&quot;undefined\&quot; ? window.event : e; endLine(event.touches[0], this); event.preventDefault()'><path id='p' stroke='&quot; + getColor(color) + &quot;' stroke-width='5' fill='none'/></svg><div id='counter' class='font'>10</div>&quot;;
              var n = 10;
              function countDown() {
                n--;
                document.getElementById(&quot;counter&quot;).innerHTML = n;
                if (n != 0)
                timeouts.push(setTimeout(countDown, 1000));else
                {
                  var svg = document.getElementById(&quot;svg&quot;);
                  svg.onmousedown = null;
                  svg.onmousemove = null;
                  svg.onmouseup = null;
                  svg.ontouchstart = null;
                  svg.ontouchmove = null;
                  svg.ontouchend = null;
                  ref.set({
                    color: color,
                    d: d,
                    score: 0,
                    count: 0,
                    done: false });

                  document.getElementById(&quot;prompt&quot;).innerHTML = &quot;<div class='topic'>Time's up!</div>&quot;;
                  timeouts.push(setTimeout(function () {
                    scoresLeft = Object.keys(players).length / 3;
                    rateDrawing();
                  }, 3000));
                }
              }
              timeouts.push(setTimeout(countDown, 1000));
            }, 5000));
          } else
          el.onkeyup = function (t) {
            checkCode(t);
          };
          if (e == 2) {
            var max = 1;
            for (var v in players)
            if (players[v].val().score > (max === 1 ? -1 : max.val().score))
            max = players[v];
            document.getElementById(&quot;p&quot;).setAttribute(&quot;d&quot;, max.val().d);
            document.getElementById(&quot;p&quot;).setAttribute(&quot;stroke&quot;, getColor(max.val().color));
            p.setAttribute(&quot;transform&quot;, &quot;&quot;);
            document.getElementById(&quot;svg&quot;).style.transform = &quot;unset&quot;;
            document.getElementById(&quot;prompt&quot;).innerHTML = &quot;<div class='topic'>Best in show:</div>&quot;;
            // if(!mobile)
            requestAnimationFrame(positionDrawing);
            timeouts.push(setTimeout(function () {
              database.ref(&quot;/A&quot; + code + &quot;/status&quot;).set(1);
            }, 5000));
          }
          if (e == 4) {
            while (timeouts.length > 0) clearTimeout(timeouts.splice(0, 1)[0]);
          }
        });
        database.ref(&quot;/A&quot; + code + &quot;/topic&quot;).on(&quot;value&quot;, function (e) {
          topic = e.val();
        });
        database.ref(&quot;/A&quot; + code).on(&quot;child_changed&quot;, function (e) {
          if (e.ge.path.n[1] != &quot;status&quot; &amp;&amp; e.ge.path.n[1] != &quot;topic&quot;) {
            players[e.ge.path.n[1]] = e;
          }
        });
      }
    });
  }
}
function startGame() {
  if (document.getElementsByClassName(&quot;playericon&quot;).length > 1)
  database.ref(&quot;/A&quot; + code + &quot;/status&quot;).set(1);
}

var d = &quot;M&quot; + document.body.clientWidth / 2 + &quot;,&quot; + document.body.clientHeight / 2 + &quot; &quot;;
var mouse = false;

function startLine(event, e) {
  // console.log(event);
  e.children[0].setAttribute(&quot;d&quot;, d + &quot;M&quot; + event.pageX + &quot;,&quot; + (event.pageY - Math.min(document.body.clientHeight, document.body.clientWidth) * 0.3) + &quot; &quot;);
  d = e.children[0].getAttribute(&quot;d&quot;);
  mouse = true;
}
function moveLine(event, e) {
  // console.log(event);
  if (mouse) {
    e.children[0].setAttribute(&quot;d&quot;, d + &quot;L&quot; + event.pageX + &quot;,&quot; + (event.pageY - Math.min(document.body.clientHeight, document.body.clientWidth) * 0.3) + &quot; &quot;);
    d = e.children[0].getAttribute(&quot;d&quot;);
  }
}
function endLine(event, e) {
  // console.log(event);
  mouse = false;
}

function skip() {
  database.ref(&quot;/A&quot; + code + &quot;/status&quot;).set(4);
}
//# sourceURL=pen.js
    </script>

  

</body>

</html>
 
" sandbox="allow-forms allow-modals allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-top-navigation-by-user-activation allow-downloads allow-presentation" allow="accelerometer; camera; encrypted-media; display-capture; geolocation; gyroscope; microphone; midi; clipboard-read; clipboard-write; web-share" allowtransparency="true" allowpaymentrequest="true" allowfullscreen="true" class="result-iframe">
    </iframe>

  </div>

</body>

</html>
    
     
                </div>
  </section>
  <script>
  let arrow = document.querySelectorAll(".arrow");
  for (var i = 0; i < arrow.length; i++) {
    arrow[i].addEventListener("click", (e)=>{
   let arrowParent = e.target.parentElement.parentElement;//selecting main parent of arrow
   arrowParent.classList.toggle("showMenu");
    });
  }
  let sidebar = document.querySelector(".sidebar");
  let sidebarBtn = document.querySelector(".bx-menu");
  console.log(sidebarBtn);
  sidebarBtn.addEventListener("click", ()=>{
    sidebar.classList.toggle("close");
  });
  </script>
 <input type="checkbox" class="form-check-input" id="darkSwitch">
      <script>

var darkSwitch = document.getElementById("darkSwitch");
window.addEventListener("load", function () {
  if (darkSwitch) {
    initTheme();
    darkSwitch.addEventListener("change", function () {
      resetTheme();
    });
  }
});

/**
 * Summary: function that adds or removes the attribute 'data-theme' depending if
 * the switch is 'on' or 'off'.
 *
 * Description: initTheme is a function that uses localStorage from JavaScript DOM,
 * to store the value of the HTML switch. If the switch was already switched to
 * 'on' it will set an HTML attribute to the body named: 'data-theme' to a 'dark'
 * value. If it is the first time opening the page, or if the switch was off the
 * 'data-theme' attribute will not be set.
 * @return {void}
 */
function initTheme() {
  var darkThemeSelected =
    localStorage.getItem("darkSwitch") !== null &&
    localStorage.getItem("darkSwitch") === "dark";
  darkSwitch.checked = darkThemeSelected;
  darkThemeSelected
    ? document.body.setAttribute("data-theme", "dark")
    : document.body.removeAttribute("data-theme");
}

/**
 * Summary: resetTheme checks if the switch is 'on' or 'off' and if it is toggled
 * on it will set the HTML attribute 'data-theme' to dark so the dark-theme CSS is
 * applied.
 * @return {void}
 */
function resetTheme() {
  if (darkSwitch.checked) {
    document.body.setAttribute("data-theme", "dark");
    localStorage.setItem("darkSwitch", "dark");
  } else {
    document.body.removeAttribute("data-theme");
    localStorage.removeItem("darkSwitch");
  }
}
</script>
  <!-- IE 11 polyfill for CSS and Custom Properties -->
  <script
    nomodule>window.MSInputMethodContext && document.documentMode && document.write('<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-ie11@5/css/bootstrap-ie11.min.css"><script src="https://cdn.jsdelivr.net/npm/ie11-custom-properties@4/ie11CustomProperties.min.js"><\/script>');</script>
<script>
/*!
 * Dark Mode Switch v1.0.1 (https://github.com/coliff/dark-mode-switch)
 * Copyright 2021 C.Oliff
 * Licensed under MIT (https://github.com/coliff/dark-mode-switch/blob/main/LICENSE)
 */
var darkSwitch=document.getElementById("darkSwitch");window.addEventListener("load",(function(){if(darkSwitch){initTheme();darkSwitch.addEventListener("change",(function(){resetTheme()}))}}));function initTheme(){var darkThemeSelected=localStorage.getItem("darkSwitch")!==null&&localStorage.getItem("darkSwitch")==="dark";darkSwitch.checked=darkThemeSelected;darkThemeSelected?document.body.setAttribute("data-theme","dark"):document.body.removeAttribute("data-theme")}function resetTheme(){if(darkSwitch.checked){document.body.setAttribute("data-theme","dark");localStorage.setItem("darkSwitch","dark")}else{document.body.removeAttribute("data-theme");localStorage.removeItem("darkSwitch")}}
</script>
<script>
var i = 0;
var txt = 'Canvas';
var speed = 50;

function typeWriter() {
  if (i < txt.length) {
    document.getElementById("type").innerHTML += txt.charAt(i);
    i++;
    setTimeout(typeWriter, speed);
  }
}
</script>
</body>
</div>
</html>
